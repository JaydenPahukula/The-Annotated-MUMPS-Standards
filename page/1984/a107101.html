<table width="99%"><tr bgcolor="lightgrey"><td width="11%" align="center" title="Go to the Previous Page" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><span onclick="GetText('ShowPage', 'a107100', '', '');">Previous</span></td><td width="11%" align="center" title="Switch to 1977 Version of ANSI Standard" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><span onclick="document.form.Edition.value='1977';GetText('ShowPage', 'a107101', '', '');">1977</span></td><td width="11%" align="center" bgcolor="grey"><b><font size="+1" color="white">1984</font></b></td><td width="11%" align="center" title="Switch to 1990 Version of ANSI Standard" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><span onclick="document.form.Edition.value='1990';GetText('ShowPage', 'a107101', '', '');">1990</span></td><td width="11%" align="center" title="Switch to 1995 Version of ANSI (Equivalent to Current ISO Version) of Standard" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><span onclick="document.form.Edition.value='1995';GetText('ShowPage', 'a107101', '', '');">1995</span></td><td width="11%" align="center" title="Switch to Draft MDC Standard" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><span onclick="document.form.Edition.value='MDC';GetText('ShowPage', 'a107101', '', '');">MDC</span></td><td width="11%" align="center">&nbsp;</td><td width="11%" align="center" title="Switch to M[UMPS] by Example" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><span onclick="document.form.Edition.value='examples';GetText('ShowPage', 'a107101', '', '');">examples</span></td><td width="11%" align="center" title="Go to the Next Page" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><span onclick="GetText('ShowPage', 'a107105', '', '');">Next</span></td></tr></table><a name="Def_0001"></a>
<a name="Def_0002"></a>
<a name="Def_0003"></a>
<a name="Def_0004"></a>
<a name="Def_0005"></a>
<a name="Def_0006"></a>
<h3>3.2.8 Functions <u>function</u></h3>

<p><span onclick="document.form.Edition.value='1984';GetText('ShowPage', 'a107101', 'scroll', 'Def_0002');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$P[IECE]</span> ( <span onclick="document.form.Edition.value='1984';GetText('ShowPage', 'a107001', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><u>expr</u></span><sub>1</sub> , <span onclick="document.form.Edition.value='1984';GetText('ShowPage', 'a107001', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><u>expr</u></span><sub>2</sub> )</p>

<p>is defined here with the aid of a function, NF, which is used
for definitional purposes only, called "find the position number
following the mth occurrence".</p>

<p>NF(s,d,m) is defined, for strings s, d, and integer in, as
follows:</p>

<ul>
<li>When d is the empty string, the result is zero.</li>

<li>When m &le; 0, the result is zero.</li>

<li>When d is not a substring of s, i.e., when <span onclick="document.form.Edition.value='1984';GetText('ShowPage', 'a107090', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$F</span>(s,d) = 0, then
the result is <span onclick="document.form.Edition.value='1984';GetText('ShowPage', 'a107095', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$L</span>(s) + <span onclick="document.form.Edition.value='1984';GetText('ShowPage', 'a107095', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$L</span>(d) + 1.</li>

<li>Otherwise, NF(s,d,1) <span onclick="document.form.Edition.value='1984';GetText('ShowPage', 'a107090', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$F</span>(s,d).</li>

<li>For m &gt; 1, NF(s,d,m) =
NF(<span onclick="document.form.Edition.value='1984';GetText('ShowPage', 'a107089', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$E</span>(s,<span onclick="document.form.Edition.value='1984';GetText('ShowPage', 'a107090', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$F</span>(s,d),<span onclick="document.form.Edition.value='1984';GetText('ShowPage', 'a107095', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$L</span>(s)),d,m&ndash;1) +
<span onclick="document.form.Edition.value='1984';GetText('ShowPage', 'a107090', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$F</span>(s,d) - 1.</li>

<li>That is, NF generalizes <span onclick="document.form.Edition.value='1984';GetText('ShowPage', 'a107090', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$F</span> to give the position number
of the character to the right of the mth occurrence of the string
d in s.</li>
</ul>

<p>Let s be the value of <span onclick="document.form.Edition.value='1984';GetText('ShowPage', 'a107001', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><u>expr</u></span><sub>1</sub>, and let d be
the value of <span onclick="document.form.Edition.value='1984';GetText('ShowPage', 'a107001', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><u>expr</u></span><sub>2</sub>. <span onclick="document.form.Edition.value='1984';GetText('ShowPage', 'a107101', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$P</span>(s,d) returns the
substring of s bounded on the right but not including the first
(leftmost) occurrence of d.</p>

<p><span onclick="document.form.Edition.value='1984';GetText('ShowPage', 'a107101', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$P</span>(s,d) = <span onclick="document.form.Edition.value='1984';GetText('ShowPage', 'a107089', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$E</span>(s,O,NF(s,d,1) - <span onclick="document.form.Edition.value='1984';GetText('ShowPage', 'a107095', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$L</span>(d) - 1).</p>

<p><span onclick="document.form.Edition.value='1984';GetText('ShowPage', 'a107101', 'scroll', 'Def_0002');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$P[IECE]</span>( <span onclick="document.form.Edition.value='1984';GetText('ShowPage', 'a107001', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><u>expr</u></span><sub>1</sub> ,
<span onclick="document.form.Edition.value='1984';GetText('ShowPage', 'a107001', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><u>expr</u></span><sub>2</sub> , <span onclick="document.form.Edition.value='1984';GetText('ShowPage', 'a107053', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><u>intexpr</u></span><sub>3</sub> )</p>

<p>Let m be the integer value of <span onclick="document.form.Edition.value='1984';GetText('ShowPage', 'a107053', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><u>intexpr</u></span><sub>3</sub>.
<span onclick="document.form.Edition.value='1984';GetText('ShowPage', 'a107101', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$P</span>(s,d,m) returns the substring of s bounded by but not
including the m-lth and the mth occurrence of d.</p>

<p><span onclick="document.form.Edition.value='1984';GetText('ShowPage', 'a107101', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$P</span>(s,d,m) _ <span onclick="document.form.Edition.value='1984';GetText('ShowPage', 'a107089', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$E</span>(s,NF(s,d,m&ndash;1),NF(s,d,m) -
<span onclick="document.form.Edition.value='1984';GetText('ShowPage', 'a107095', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$L</span>(d) - 1).</p>

<p><span onclick="document.form.Edition.value='1984';GetText('ShowPage', 'a107101', 'scroll', 'Def_0002');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$P[IECE]</span>( <span onclick="document.form.Edition.value='1984';GetText('ShowPage', 'a107001', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><u>expr</u></span><sub>1</sub> ,
<span onclick="document.form.Edition.value='1984';GetText('ShowPage', 'a107001', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><u>expr</u></span><sub>2</sub> , <span onclick="document.form.Edition.value='1984';GetText('ShowPage', 'a107053', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><u>intexpr</u></span><sub>3</sub> ,
<span onclick="document.form.Edition.value='1984';GetText('ShowPage', 'a107053', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><u>intexpr</u></span><sub>4</sub> )</p>

<p>Let n be the integer value of <span onclick="document.form.Edition.value='1984';GetText('ShowPage', 'a107053', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><u>intexpr</u></span><sub>4</sub>.
<span onclick="document.form.Edition.value='1984';GetText('ShowPage', 'a107101', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$P</span>(s,d,m,n) returns the substring of s bounded on the left
but not including the m&ndash;1th occurrence of d in s, and bounded on
the right but not including the nth occurrence of d in s.</p>

<p><span onclick="document.form.Edition.value='1984';GetText('ShowPage', 'a107101', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$P</span>(s,d,m,n) _ <span onclick="document.form.Edition.value='1984';GetText('ShowPage', 'a107089', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$E</span>(s,NF(s,d,m&ndash;1),NF(s,d,n) -
<span onclick="document.form.Edition.value='1984';GetText('ShowPage', 'a107095', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$L</span>(d) - 1).</p>

<p>Note that <span onclick="document.form.Edition.value='1984';GetText('ShowPage', 'a107101', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$P</span>(s,d,m,m) - <span onclick="document.form.Edition.value='1984';GetText('ShowPage', 'a107101', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$P</span>(s,d,m), and that
<span onclick="document.form.Edition.value='1984';GetText('ShowPage', 'a107101', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$P</span>(s,d,1) - <span onclick="document.form.Edition.value='1984';GetText('ShowPage', 'a107101', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$P</span>(s,d).</p>

<p>See also the transition diagram for <span onclick="document.form.Edition.value='1984';GetText('ShowPage', 'a10t075', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$Piece</span>.</p>


<table width="99%"><tr bgcolor="lightgrey"><td width="11%" align="center" title="Go to the Previous Page" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><span onclick="GetText('ShowPage', 'a107100', '', '');">Previous</span></td><td width="11%" align="center" title="Switch to 1977 Version of ANSI Standard" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><span onclick="document.form.Edition.value='1977';GetText('ShowPage', 'a107101', '', '');">1977</span></td><td width="11%" align="center" bgcolor="grey"><b><font size="+1" color="white">1984</font></b></td><td width="11%" align="center" title="Switch to 1990 Version of ANSI Standard" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><span onclick="document.form.Edition.value='1990';GetText('ShowPage', 'a107101', '', '');">1990</span></td><td width="11%" align="center" title="Switch to 1995 Version of ANSI (Equivalent to Current ISO Version) of Standard" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><span onclick="document.form.Edition.value='1995';GetText('ShowPage', 'a107101', '', '');">1995</span></td><td width="11%" align="center" title="Switch to Draft MDC Standard" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><span onclick="document.form.Edition.value='MDC';GetText('ShowPage', 'a107101', '', '');">MDC</span></td><td width="11%" align="center">&nbsp;</td><td width="11%" align="center" title="Switch to M[UMPS] by Example" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><span onclick="document.form.Edition.value='examples';GetText('ShowPage', 'a107101', '', '');">examples</span></td><td width="11%" align="center" title="Go to the Next Page" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><span onclick="GetText('ShowPage', 'a107105', '', '');">Next</span></td></tr></table><p>Copyright &copy; Standard Documents; 1977-2025 MUMPS Development Committee;<br/>Copyright &copy; Examples: 1995-2025 Ed de Moel;<br/>Copyright &copy; Annotations: 2003-2008 Jacquard Systems Research<br/>Copyright &copy; Annotations: 2008-2025 Ed de Moel.</p><p align="center"><font size="-1">This page most recently updated on 15-Nov-2023, 13:11:13.</font></p><p>For comments, <a href="mailto:demoel@jacquardsystems.com?subject=Annotated%20Standards%2c%20page=a107101%2c%20edition=1984">contact Ed de Moel (demoel@jacquardsystems.com)</a></p>
