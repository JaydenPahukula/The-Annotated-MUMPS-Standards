<table width="99%"><tr bgcolor="lightgrey"><td width="11%" align="center" title="Go to the Previous Page" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><span onclick="GetText('ShowPage', 'a107100', '', '');">Previous</span></td><td width="11%" align="center" title="Switch to 1977 Version of ANSI Standard" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><span onclick="document.form.Edition.value='1977';GetText('ShowPage', 'a107101', '', '');">1977</span></td><td width="11%" align="center" title="Switch to 1985 Version of ANSI Standard" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><span onclick="document.form.Edition.value='1984';GetText('ShowPage', 'a107101', '', '');">1984</span></td><td width="11%" align="center" title="Switch to 1990 Version of ANSI Standard" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><span onclick="document.form.Edition.value='1990';GetText('ShowPage', 'a107101', '', '');">1990</span></td><td width="11%" align="center" title="Switch to 1995 Version of ANSI (Equivalent to Current ISO Version) of Standard" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><span onclick="document.form.Edition.value='1995';GetText('ShowPage', 'a107101', '', '');">1995</span></td><td width="11%" align="center" bgcolor="grey"><b><font size="+1" color="white">MDC</font></b></td><td width="11%" align="center">&nbsp;</td><td width="11%" align="center" title="Switch to M[UMPS] by Example" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><span onclick="document.form.Edition.value='examples';GetText('ShowPage', 'a107101', '', '');">examples</span></td><td width="11%" align="center" title="Go to the Next Page" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><span onclick="GetText('ShowPage', 'a107102', '', '');">Next</span></td></tr></table><a name="Def_0001"></a>
<a name="Def_0002"></a>
<a name="Def_0003"></a>
<a name="Def_0004"></a>
<a name="Def_0005"></a>
<h3>7.1.5.16 <span onclick="document.form.Edition.value='MDC';GetText('ShowPage', 'a107101', 'scroll', 'Def_0002');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$Piece</span></h3>

<p><span onclick="document.form.Edition.value='MDC';GetText('ShowPage', 'a107101', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$P[IECE]</span> ( <span onclick="document.form.Edition.value='MDC';GetText('ShowPage', 'a107001', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><u>expr</u></span><sub>1</sub> , <span onclick="document.form.Edition.value='MDC';GetText('ShowPage', 'a107001', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><u>expr</u></span><sub>2</sub> )</p>

<p>This form is defined here with the aid of a function, NF,
which is used for definitional purposes only, called <i>find the
position number following the</i> m<i>th occurrence</i>.</p>

<table><tr><td>&nbsp;&nbsp;&nbsp;</td>
<td><p>NF(<i>s</i> , <i>d</i> , <i>m</i>) is defined, for strings
<i>s</i>, <i>d</i>, and integer <i>m</i>, as follows:</p>

<p>When <i>d</i> is the empty string, the result is zero.</p>

<p>When <i>m</i>&nbsp;&#39;&gt;&nbsp;0, the result is zero.</p>

<p>When <i>d</i> is not a substring of <i>s</i>, i.e., when
<span onclick="document.form.Edition.value='MDC';GetText('ShowPage', 'a107090', 'scroll', 'Def_0002');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$Find</span>(<i>s</i> , <i>d</i>) = 0, then the result is
<span onclick="document.form.Edition.value='MDC';GetText('ShowPage', 'a107095', 'scroll', 'Def_0002');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$Length</span>(<i>s</i>) + <span onclick="document.form.Edition.value='MDC';GetText('ShowPage', 'a107095', 'scroll', 'Def_0002');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$Length</span>(<i>d</i>) + 1.</p>

<p>Otherwise, NF(<i>s</i> , <i>d</i> , 1) = <span onclick="document.form.Edition.value='MDC';GetText('ShowPage', 'a107090', 'scroll', 'Def_0002');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$Find</span>(<i>s</i>
, <i>d</i>).</p>

<p>For <i>m</i>&nbsp;&gt;&nbsp;1, NF(<i>s</i> , <i>d</i> , <i>m</i>) =</p>

<p>NF( <span onclick="document.form.Edition.value='MDC';GetText('ShowPage', 'a107089', 'scroll', 'Def_0002');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$Extract</span>( <i>s</i> , <span onclick="document.form.Edition.value='MDC';GetText('ShowPage', 'a107090', 'scroll', 'Def_0002');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$Find</span>( <i>s</i> ,
<i>d</i>), <span onclick="document.form.Edition.value='MDC';GetText('ShowPage', 'a107095', 'scroll', 'Def_0002');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$Length</span>(<i>s</i>) ), <i>d</i> , <i>m</i> - 1) +
<span onclick="document.form.Edition.value='MDC';GetText('ShowPage', 'a107090', 'scroll', 'Def_0002');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$Find</span>(<i>s</i> , <i>d</i>) - 1.</p>

<p>That is, NF extends <span onclick="document.form.Edition.value='MDC';GetText('ShowPage', 'a107090', 'scroll', 'Def_0002');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$Find</span> to give the position number
of the character to the right of the <i>m</i>th occurrence of the
string <i>d</i> in <i>s</i>.</p></td></tr></table>

<p>Let <i>s</i> be the value of <span onclick="document.form.Edition.value='MDC';GetText('ShowPage', 'a107001', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><u>expr</u></span><sub>1</sub>, and let
<i>d</i> be the value of <span onclick="document.form.Edition.value='MDC';GetText('ShowPage', 'a107001', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><u>expr</u></span><sub>2</sub>.
<span onclick="document.form.Edition.value='MDC';GetText('ShowPage', 'a107101', 'scroll', 'Def_0002');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$Piece</span>(<i>s</i>,<i>d</i>) returns the substring of
<i>s</i> bounded on the right but not including the first
(leftmost) occurrence of <i>d</i>.</p>

<p><span onclick="document.form.Edition.value='MDC';GetText('ShowPage', 'a107101', 'scroll', 'Def_0002');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$Piece</span>(<i>s</i> , <i>d</i>) = <span onclick="document.form.Edition.value='MDC';GetText('ShowPage', 'a107089', 'scroll', 'Def_0002');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$Extract</span>(<i>s</i>
, 0, NF(<i>s</i> , <i>d</i> ,1) - <span onclick="document.form.Edition.value='MDC';GetText('ShowPage', 'a107095', 'scroll', 'Def_0002');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$Length</span>(<i>d</i>) - 1).</p>

<p><span onclick="document.form.Edition.value='MDC';GetText('ShowPage', 'a107101', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$P[IECE]</span> ( <span onclick="document.form.Edition.value='MDC';GetText('ShowPage', 'a107001', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><u>expr</u></span><sub>1</sub> , <span onclick="document.form.Edition.value='MDC';GetText('ShowPage', 'a107001', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><u>expr</u></span><sub>2</sub> ,
<span onclick="document.form.Edition.value='MDC';GetText('ShowPage', 'a107053', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><u>intexpr</u></span> )</p>

<p>Let <i>m</i> be the integer value of <span onclick="document.form.Edition.value='MDC';GetText('ShowPage', 'a107053', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><u>intexpr</u></span>.
<span onclick="document.form.Edition.value='MDC';GetText('ShowPage', 'a107101', 'scroll', 'Def_0002');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$Piece</span>(<i>s</i>,<i>d</i>,<i>m</i>) returns the substring
of <i>s</i> bounded by but not including the <i>m&ndash;1</i>th and the
<i>m</i>th occurrence of <i>d</i>.</p>

<p><span onclick="document.form.Edition.value='MDC';GetText('ShowPage', 'a107101', 'scroll', 'Def_0002');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$Piece</span>(<i>s</i> , <i>d</i> , <i>m</i>) =
<span onclick="document.form.Edition.value='MDC';GetText('ShowPage', 'a107089', 'scroll', 'Def_0002');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$Extract</span>( <i>s</i> , NF(<i>s</i> , <i>d</i> , <i>m</i> - 1),
NF(<i>s</i> , <i>d</i> , <i>m</i>) - <span onclick="document.form.Edition.value='MDC';GetText('ShowPage', 'a107095', 'scroll', 'Def_0002');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$Length</span>(<i>d</i>) -
1).</p>

<p><span onclick="document.form.Edition.value='MDC';GetText('ShowPage', 'a107101', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$P[IECE]</span> ( <span onclick="document.form.Edition.value='MDC';GetText('ShowPage', 'a107001', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><u>expr</u></span><sub>1</sub> , <span onclick="document.form.Edition.value='MDC';GetText('ShowPage', 'a107001', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><u>expr</u></span><sub>2</sub> ,
<span onclick="document.form.Edition.value='MDC';GetText('ShowPage', 'a107053', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><u>intexpr</u></span><sub>1</sub> , <span onclick="document.form.Edition.value='MDC';GetText('ShowPage', 'a107053', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><u>intexpr</u></span><sub>2</sub> )</p>

<p>Let <i>m</i> be the integer value of
<span onclick="document.form.Edition.value='MDC';GetText('ShowPage', 'a107053', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><u>intexpr</u></span><sub>1</sub>.Let <i>n</i> be the integer value of
<span onclick="document.form.Edition.value='MDC';GetText('ShowPage', 'a107053', 'scroll', 'Def_0001');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><u>intexpr</u></span><sub>2</sub>. <span onclick="document.form.Edition.value='MDC';GetText('ShowPage', 'a107101', 'scroll', 'Def_0002');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$Piece</span>(<i>s</i> , <i>d</i> ,
<i>m</i> , <i>n</i> ) returns the substring of <i>s</i> bounded
on the left but not including the <i>m&ndash;1</i>th occurrence of
<i>d</i> in <i>s</i>, and bounded on the right but not including
the <i>n</i>th occurrence of <i>d</i> in <i>s</i>.</p>

<p><span onclick="document.form.Edition.value='MDC';GetText('ShowPage', 'a107101', 'scroll', 'Def_0002');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$Piece</span>(<i>s</i> , <i>d</i> , <i>m</i> , <i>n</i> ) =
<span onclick="document.form.Edition.value='MDC';GetText('ShowPage', 'a107089', 'scroll', 'Def_0002');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$Extract</span>(<i>s</i> , NF(<i>s</i> , <i>d</i> , <i>m</i> - 1),
NF(<i>s</i> , <i>d</i> , <i>n</i> ) - <span onclick="document.form.Edition.value='MDC';GetText('ShowPage', 'a107095', 'scroll', 'Def_0002');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$Length</span>(<i>d</i>) -
1).</p>

<p>Note that <span onclick="document.form.Edition.value='MDC';GetText('ShowPage', 'a107101', 'scroll', 'Def_0002');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$Piece</span>(<i>s</i> , <i>d</i> , <i>m</i> ,
<i>m</i> ) = <span onclick="document.form.Edition.value='MDC';GetText('ShowPage', 'a107101', 'scroll', 'Def_0002');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$Piece</span>(<i>s</i> , <i>d</i> , <i>m</i> ), and
that <span onclick="document.form.Edition.value='MDC';GetText('ShowPage', 'a107101', 'scroll', 'Def_0002');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$Piece</span>(<i>s</i> , <i>d</i> ,1) =
<span onclick="document.form.Edition.value='MDC';GetText('ShowPage', 'a107101', 'scroll', 'Def_0002');" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;">$Piece</span>(<i>s</i> , <i>d</i> ).</p>


<table width="99%"><tr bgcolor="lightgrey"><td width="11%" align="center" title="Go to the Previous Page" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><span onclick="GetText('ShowPage', 'a107100', '', '');">Previous</span></td><td width="11%" align="center" title="Switch to 1977 Version of ANSI Standard" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><span onclick="document.form.Edition.value='1977';GetText('ShowPage', 'a107101', '', '');">1977</span></td><td width="11%" align="center" title="Switch to 1985 Version of ANSI Standard" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><span onclick="document.form.Edition.value='1984';GetText('ShowPage', 'a107101', '', '');">1984</span></td><td width="11%" align="center" title="Switch to 1990 Version of ANSI Standard" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><span onclick="document.form.Edition.value='1990';GetText('ShowPage', 'a107101', '', '');">1990</span></td><td width="11%" align="center" title="Switch to 1995 Version of ANSI (Equivalent to Current ISO Version) of Standard" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><span onclick="document.form.Edition.value='1995';GetText('ShowPage', 'a107101', '', '');">1995</span></td><td width="11%" align="center" bgcolor="grey"><b><font size="+1" color="white">MDC</font></b></td><td width="11%" align="center">&nbsp;</td><td width="11%" align="center" title="Switch to M[UMPS] by Example" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><span onclick="document.form.Edition.value='examples';GetText('ShowPage', 'a107101', '', '');">examples</span></td><td width="11%" align="center" title="Go to the Next Page" onmouseover="HighLight(this, 1, 'lightblue');" onmouseout="HighLight(this, 0, '');" style="color: blue;"><span onclick="GetText('ShowPage', 'a107102', '', '');">Next</span></td></tr></table><p>Copyright &copy; Standard Documents; 1977-2025 MUMPS Development Committee;<br/>Copyright &copy; Examples: 1995-2025 Ed de Moel;<br/>Copyright &copy; Annotations: 2003-2008 Jacquard Systems Research<br/>Copyright &copy; Annotations: 2008-2025 Ed de Moel.</p><p><b><i>Some specifications are "approved for inclusion in a future standard". Note that the MUMPS Development Committee cannot guarantee that such future standards will indeed be published.</i></b></p><p align="center"><font size="-1">This page most recently updated on 15-Nov-2023, 13:11:13.</font></p><p>For comments, <a href="mailto:demoel@jacquardsystems.com?subject=Annotated%20Standards%2c%20page=a107101%2c%20edition=MDC">contact Ed de Moel (demoel@jacquardsystems.com)</a></p>
